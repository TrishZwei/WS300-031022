<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Christmas Countdown</title>
	<style type="text/css">
		body{
			font-family: Verdana;
			text-align: center;
			background-color: green;
			color: white;
		}

		h1{
			color: red;
		}

		.until{
			margin: 0 auto;
		}

		.until div{
			background-color: red;
			padding: 1em;
			margin: 0;
			min-width: 100px;
			display: inline-block;
		}

	</style>
</head>
<body>
	<h1>How long to XMas?</h1>
	<div class="until">
		<div class="days">	
			<h3>Days:</h3>
			<span>0</span>	
		</div>
		<div class="hours">	
			<h3>Hours:</h3>
			<span>0</span>	
		</div>
		<div class="minutes">	
			<h3>Minutes:</h3>
			<span>0</span>	
		</div>
	</div>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	<script type="text/javascript">
		'use strict';

		const xmas = new Date('December 25 2022 0:00:00');



		function countdown(){
				//test date: 'December 26 2022 12:00:00'

			let now = new Date(); //no arg gives me what time it is now
			let diff = xmas - now; //number value here.
			console.log(diff);

			if(diff <= 0){
				xmas.setFullYear(now.getFullYear()+1);
				diff = xmas - now;
			}



			/*
			1000 ms = 1 second
			60 seconds = 1 minute
			60 minutes = 1 hour
			24 hours = 1 day
			*/

			let days = Math.floor( diff / (1000*60*60*24)); //how many whole days
			let hours = Math.floor( diff % (1000*60*60*24) / (1000*60*60)); //number of hours
			let minutes = Math.floor( diff % (1000*60*60) / (1000*60)); //number of minutes

			console.log(days, hours, minutes);
			$('.days span').text(days);
			$('.hours span').text(hours);
			$('.minutes span').text(minutes);

			let secsRemain = 60 - now.getSeconds();
			console.log(secsRemain, now.getSeconds())

			if(now.getSeconds == 0){
				secsRemain = 60;

			}

			setTimeout(countdown, secsRemain*1000);
			
			

		}

		countdown();






	</script>
</body>
</html>